
{% extends "base.html" %}
{% block content %}
  <article>
    <h2>Profiles</h2>
    <p>Upload your Untappd export (.csv, semicolon-separated), enter your display name, and generate a WonderBEER JSON profile.</p>
  </article>

  <section class="grid">
    <article>
      <h3>Create a new profile</h3>
      <form id="uploadForm">
        <label for="displayName">Display name</label>
        <input id="displayName" name="display_name" placeholder="Mark Meyer" required />

        <label for="csvFile">Untappd CSV file</label>
        <input id="csvFile" name="file" type="file" accept=".csv" required />

        <button type="submit">Create JSON Profile</button>
      </form>
      <pre id="uploadResult" class="code"></pre>
    </article>

    <article>
      <h3>Existing profiles</h3>
      <ul id="profileList">
        {% for p in profiles %}
          <li><a href="{{ url_for('analytics') }}?profile={{ p.file }}">{{ p.display_name }}</a> <small class="muted">({{ p.file }})</small></li>
        {% endfor %}
      </ul>
    </article>
  </section>
{% endblock %}
