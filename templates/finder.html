{% extends "_base.html" %}
{% block body %}
  <div class="card">
    <h1>Find Breweries</h1>
    <div class="grid cols-3">
      <div>
        <label>Country</label>
        <select id="country"></select>
      </div>
      <div>
        <label>State / Province</label>
        <select id="state"></select>
      </div>
      <div>
        <label>City</label>
        <select id="city"></select>
      </div>
    </div>
    <br>
    <div>
      <label>Venue</label>
      <select id="venue"></select>
    </div>
    <br>
    <ul id="venueList" class="list"></ul>
    <hr>
    <form action="{{ url_for('match') }}" method="get">
      <input type="hidden" name="venue" id="venueValue">
      <label>Use Profile</label>
      <select name="profile_json">
        {% for filename, disp in profiles %}
          <option value="{{ filename }}">{{ disp }}</option>
        {% endfor %}
      </select>
      <button class="btn primary" type="submit">Beer Match â†’</button>
    </form>
  </div>
  <script>
    initFinder();
    const vSel = document.getElementById('venue');
    const vHidden = document.getElementById('venueValue');
    vSel.addEventListener('change', ()=> vHidden.value = vSel.value);
  </script>
{% endblock %}
