{% extends "base.html" %}
{% block content %}
  <h1>Beer Match</h1>
  <p class="muted">Select your saved profile and enter the venue's Untappd menu URL (eg, a venue page with a visible menu).</p>
  <form method="post" action="{{ url_for('match_run') }}" class="card">
    <label for="profile_slug">Profile</label>
    <select id="profile_slug" name="profile_slug">
      {% for p in (os.listdir('data/profiles') if os.path.isdir('data/profiles') else []) %}
        {% if p.endswith('.json') %}
          <option value="{{ p[:-5] }}">{{ p[:-5].replace('_',' ') }}</option>
        {% endif %}
      {% endfor %}
    </select>
    <label for="venue_url">Untappd Menu URL</label>
    <input type="text" id="venue_url" name="venue_url" placeholder="https://untappd.com/v/your-venue/12345" required>
    <div style="margin-top:12px;"><button type="submit">Run Match</button></div>
  </form>
  <p class="muted">Note: Matching uses style overlap and proximity to your average ABV/IBU. This is a simple demo scorer you can tune later.</p>
{% endblock %}
